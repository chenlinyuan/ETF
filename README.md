# 沪深300基金&指数PE分位点回测仪表板 V1.0

## 项目简介
本项目为基于PE分位点的沪深300基金/指数分批买卖策略回测与可视化仪表板，支持参数自定义、分批买入/卖出、投资详情展示等功能。

## 使用方法
1. 解压并进入 `PEBacktestDashboard_V1.0` 目录。
2. 用浏览器（推荐 Chrome/Edge）直接双击或右键选择“用浏览器打开” `fund_index_pe_dashboard.html` 文件。
3. 页面加载后，点击界面上的“选择文件”按钮，选择 `ETFData` 目录下的样例数据文件（如 `hs300_base_data.csv`）。
4. 按页面提示操作即可，无需安装任何依赖或启动服务器。

> 注意：如遇浏览器安全限制无法加载本地文件，建议使用 Chrome 浏览器，或采用下述方式启动本地静态服务器：

### 可选：用本地服务器方式打开

在 `PEBacktestDashboard_V1.0` 目录下，打开终端，输入：

```sh
python3 -m http.server 8080
```

然后在浏览器访问：  
[http://localhost:8080/fund_index_pe_dashboard.html](http://localhost:8080/fund_index_pe_dashboard.html)

---
4. 点击基金净值图表任意日期，开始回测。
5. 查看下方回测结果和投资详情。

## 主要文件说明
- `fund_index_pe_dashboard.html`：主仪表板页面，包含全部前端逻辑与交互。
- `ETFData/`：存放所需的历史数据文件（如沪深300PE、基金净值、指数数据等）。
    - `沪深300_PE-TTM_市值加权_10年_20251220_220409.csv`
    - `hs300_base_data.csv`
    - ...

## 数据要求
- ETFData目录下需包含沪深300相关的PE分位点、指数、基金净值等csv/xlsx数据。
- 数据文件名可根据实际情况调整，但需与html中读取逻辑一致。

## 主要功能
- 支持自定义买入/卖出PE分位点阈值、最大买入次数、回测结束日期
- 分批买入/卖出逻辑，买入金额动态分配，支持下跌4%分批买入
- 结果可视化，投资详情一键查看

## 版本
V1.0

## 作者
GitHub Copilot
2025-12-22
